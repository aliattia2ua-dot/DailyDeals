Offer Catalog App - Project Structure & Description
ğŸ“± Project Overview
A React Native mobile application (iOS, Android, Web) for browsing weekly store catalogues and offers in Zagazig, Egypt. Users can view digital flyers, save individual products or entire catalogue pages to their shopping basket, and compare prices across different stores.
ğŸ¯ Key Features

ğŸ“– Browse weekly catalogues from multiple stores (Kazyon, Carrefour, etc.)
ğŸ” View offers by category or store
ğŸ“„ View full PDF catalogues with native/web PDF viewer
ğŸ›’ Save individual offers or entire catalogue pages to basket
â­ Favorite stores and offers
ğŸ—ºï¸ View store locations on interactive map
ğŸŒ Bilingual support (Arabic RTL / English LTR)
ğŸ’¾ Persistent storage with AsyncStorage


ğŸ“‚ Project Structure
OfferCatalog/
â”‚
â”œâ”€â”€ ğŸ“± src/                                    # Source code directory
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¨ app/                                # App screens & routing (Expo Router)
â”‚   â”‚   â”œâ”€â”€ (tabs)/                           # Bottom tab navigation screens
â”‚   â”‚   â”‚   â”œâ”€â”€ _layout.tsx                   # Tab navigator with badge counter
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                     # ğŸ  Home screen - featured offers & categories
â”‚   â”‚   â”‚   â”œâ”€â”€ flyers.tsx                    # ğŸ“– Catalogues/Offers listing screen
â”‚   â”‚   â”‚   â”œâ”€â”€ basket.tsx                    # ğŸ›’ Shopping basket with saved pages/offers
â”‚   â”‚   â”‚   â”œâ”€â”€ stores.tsx                    # ğŸª Stores list/map view
â”‚   â”‚   â”‚   â””â”€â”€ settings.tsx                  # âš™ï¸ App settings (language, notifications)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ flyer/                            # Catalogue detail routes
â”‚   â”‚   â”‚   â””â”€â”€ [id].tsx                      # ğŸ“„ Single catalogue viewer with page navigation
â”‚   â”‚   â”‚                                     #     - Image page viewer with prev/next
â”‚   â”‚   â”‚                                     #     - Save page button
â”‚   â”‚   â”‚                                     #     - PDF viewer button
â”‚   â”‚   â”‚                                     #     - List of offers on current page
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ offer/                            # Offer detail routes
â”‚   â”‚   â”‚   â””â”€â”€ [id].tsx                      # ğŸ·ï¸ Single offer detail page
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ store/                            # Store detail routes
â”‚   â”‚   â”‚   â””â”€â”€ [id].tsx                      # ğŸª Store details with branches & offers
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ _layout.tsx                       # Root layout wrapper
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ§© components/                         # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ basket/                           # Basket-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ BasketItemCard.tsx            # Card for individual offer in basket
â”‚   â”‚   â”‚   â”œâ”€â”€ SavedPageCard.tsx             # Card for saved catalogue page
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                      # Barrel export
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ common/                           # Shared UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx                    # Reusable button component
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx                      # Base card component
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading.tsx                   # Loading spinner
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx                 # Search input field
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                      # Barrel export
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ flyers/                           # Catalogue/Offer components
â”‚   â”‚   â”‚   â”œâ”€â”€ CatalogueCard.tsx             # Catalogue preview card
â”‚   â”‚   â”‚   â”œâ”€â”€ OfferCard.tsx                 # Offer preview card (grid view)
â”‚   â”‚   â”‚   â”œâ”€â”€ SavePageButton.tsx            # Button to save entire page
â”‚   â”‚   â”‚   â”œâ”€â”€ CataloguePDFViewer.native.tsx # ğŸ“± Native PDF viewer (iOS/Android)
â”‚   â”‚   â”‚   â”œâ”€â”€ CataloguePDFViewer.web.tsx    # ğŸŒ Web PDF viewer (iframe)
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                      # Barrel export (platform-specific)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ home/                             # Home screen components
â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryGrid.tsx              # Category icons grid
â”‚   â”‚   â”‚   â”œâ”€â”€ FeaturedOffers.tsx            # Horizontal scrolling offers
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                      # Barrel export
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ stores/                           # Store-specific components
â”‚   â”‚       â”œâ”€â”€ StoreCard.tsx                 # Store preview card
â”‚   â”‚       â”œâ”€â”€ LeafletMap.tsx                # Interactive Leaflet map for branches
â”‚   â”‚       â””â”€â”€ index.ts                      # Barrel export
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¨ constants/                          # App-wide constants
â”‚   â”‚   â”œâ”€â”€ theme.ts                          # Colors, spacing, typography, shadows
â”‚   â”‚   â””â”€â”€ config.ts                         # App config (version, map settings)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ’¾ data/                               # Mock/static data (replace with API later)
â”‚   â”‚   â”œâ”€â”€ categories.ts                     # Product categories
â”‚   â”‚   â”œâ”€â”€ offers.ts                         # â­ Main data file:
â”‚   â”‚   â”‚                                     #     - Offers with prices
â”‚   â”‚   â”‚                                     #     - Catalogues with PDF URLs
â”‚   â”‚   â”‚                                     #     - Catalogue pages with offer IDs
â”‚   â”‚   â”‚                                     #     - Helper functions (getOfferById, etc.)
â”‚   â”‚   â””â”€â”€ stores.ts                         # Stores with branches & locations
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸª hooks/                              # Custom React hooks
â”‚   â”‚   â””â”€â”€ index.ts                          # useLocalized, useAppInitialization,
â”‚   â”‚                                         # usePersistBasket, usePersistFavorites
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŒ i18n/                               # Internationalization
â”‚   â”‚   â”œâ”€â”€ ar.ts                             # Arabic translations
â”‚   â”‚   â”œâ”€â”€ en.ts                             # English translations
â”‚   â”‚   â””â”€â”€ index.ts                          # i18next configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”§ services/                           # External services
â”‚   â”‚   â”œâ”€â”€ database.ts                       # AsyncStorage wrapper
â”‚   â”‚   â””â”€â”€ notifications.ts                  # Push notifications setup
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ—„ï¸ store/                              # Redux state management
â”‚   â”‚   â”œâ”€â”€ slices/                           # Redux slices
â”‚   â”‚   â”‚   â”œâ”€â”€ basketSlice.ts                # ğŸ›’ Basket state:
â”‚   â”‚   â”‚   â”‚                                 #     - addToBasket (individual offers)
â”‚   â”‚   â”‚   â”‚                                 #     - addPageToBasket (entire pages) â­
â”‚   â”‚   â”‚   â”‚                                 #     - updateQuantity, removeFromBasket
â”‚   â”‚   â”‚   â”‚                                 #     - Items have type: 'offer' | 'page'
â”‚   â”‚   â”‚   â”œâ”€â”€ favoritesSlice.ts             # â­ Favorite stores & offers
â”‚   â”‚   â”‚   â”œâ”€â”€ offersSlice.ts                # Offers loading state
â”‚   â”‚   â”‚   â”œâ”€â”€ settingsSlice.ts              # App settings (language, notifications)
â”‚   â”‚   â”‚   â””â”€â”€ storesSlice.ts                # Stores loading state
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks.ts                          # Typed Redux hooks (useAppDispatch, etc.)
â”‚   â”‚   â””â”€â”€ index.ts                          # Store configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“˜ types/                              # TypeScript type definitions
â”‚   â”‚   â””â”€â”€ index.ts                          # â­ Main types:
â”‚   â”‚                                         #     - Store, Branch
â”‚   â”‚                                         #     - Catalogue (with pdfUrl)
â”‚   â”‚                                         #     - CataloguePage
â”‚   â”‚                                         #     - Offer
â”‚   â”‚                                         #     - BasketItem (type: 'offer' | 'page')
â”‚   â”‚                                         #     - SavedCataloguePage
â”‚   â”‚                                         #     - Redux state types
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ› ï¸ utils/                              # Utility functions
â”‚       â””â”€â”€ helpers.ts                        # formatCurrency, formatDate, calculateDiscount
â”‚
â”œâ”€â”€ ğŸ¨ assets/                                 # Static assets
â”‚   â”œâ”€â”€ catalogues/                           # ğŸ“„ PDF catalogue files (for local testing)
â”‚   â”‚   â”œâ”€â”€ kazyon_2024-12-23_2024-12-29.pdf
â”‚   â”‚   â””â”€â”€ carrefour_2024-12-23_2024-12-29.pdf
â”‚   â”œâ”€â”€ adaptive-icon.png                     # Android adaptive icon
â”‚   â”œâ”€â”€ favicon.png                           # Web favicon
â”‚   â”œâ”€â”€ icon.png                              # App icon
â”‚   â””â”€â”€ splash-icon.png                       # Splash screen icon
â”‚
â”œâ”€â”€ ğŸ“¦ node_modules/                           # Dependencies
â”‚
â”œâ”€â”€ ğŸ“„ Configuration Files
â”œâ”€â”€ app.json                                  # Expo app configuration
â”œâ”€â”€ package.json                              # Dependencies & scripts
â”œâ”€â”€ tsconfig.json                             # TypeScript configuration
â””â”€â”€ expo-env.d.ts                             # TypeScript declarations

ğŸ”‘ Key Files Explained
1. Core Data Files
src/data/offers.ts â­

Most important data file
Contains all offers, catalogues, and pages
PDF URLs defined here with naming: store_startdate_enddate.pdf
Helper functions: getCatalogueById(), getOfferById(), getOffersForPage()

src/types/index.ts â­

All TypeScript interfaces
Key types:

Catalogue - Has pdfUrl field for PDF link
BasketItem - Can be type 'offer' or 'page'
SavedCataloguePage - Stores page info when user saves entire page




2. State Management
src/store/slices/basketSlice.ts â­

Manages shopping basket
Two main actions:

addToBasket() - Add single offer
addPageToBasket() - Add entire catalogue page with all offers


Items differentiated by type: 'offer' | 'page'


3. Key Screens
src/app/flyer/[id].tsx â­

Most complex screen
Shows catalogue page-by-page navigation
Features:

Image page viewer (prev/next buttons)
"Save Page" button - saves entire page to basket
"View PDF" button - opens full PDF viewer
Lists all offers on current page
Tracks if page is already saved (prevents duplicates)



src/app/(tabs)/basket.tsx â­

Shows saved items
Two sections:

Saved pages (with bookmark badge)
Individual offers (with quantity controls)


Total price only for offers (pages don't have price)


4. PDF Viewer (Platform-Specific)
src/components/flyers/CataloguePDFViewer.native.tsx

For iOS/Android
Uses react-native-pdf library
Features: page navigation, zoom, loading indicator

src/components/flyers/CataloguePDFViewer.web.tsx

For Web
Uses HTML <iframe> to display PDF
Simpler implementation (browser handles PDF rendering)

Important: Metro bundler automatically selects correct file based on platform (.native.tsx vs .web.tsx)

ğŸ—‚ï¸ Data Flow
User Action â†’ Component â†’ Redux Action â†’ Redux Slice â†’ Update State â†’ Re-render
Example: Saving a Page
User clicks "Save Page" 
  â†’ FlyerDetailScreen 
  â†’ dispatch(addPageToBasket()) 
  â†’ basketSlice adds item with type:'page' 
  â†’ Basket screen shows saved page card

ğŸ¨ Design System
Theme (src/constants/theme.ts):

Colors: Primary, secondary, text, backgrounds
Spacing: xs, sm, md, lg, xl, xxl
Typography: Font sizes, weights
Border Radius: sm, md, lg, full
Shadows: sm, md, lg

RTL Support:

Uses I18nManager.isRTL for layout direction
Conditional margins/paddings for RTL languages
Leaflet map & navigation adapt to RTL


ğŸ“¦ Main Dependencies
json{
  "expo": "~54.0",                      // Expo SDK
  "expo-router": "^6.0",                // File-based routing
  "react-native-pdf": "^6.7",           // PDF viewer (native only)
  "react-native-webview": "^13.16",     // For Leaflet map
  "@reduxjs/toolkit": "^2.11",          // State management
  "react-redux": "^9.2",                // Redux bindings
  "i18next": "^25.7",                   // Internationalization
  "react-i18next": "^16.3",             // React i18n bindings
  "@react-native-async-storage/async-storage": "^2.2"  // Persistence
}

ğŸš€ Getting Started
bash# Install dependencies
npm install

# Start development server
npm start

# Run on specific platform
npm run android
npm run ios
npm run web

ğŸ“ Adding a New Catalogue

Prepare PDF file with naming: storename_2024-12-23_2024-12-29.pdf
Upload to cloud storage (Firebase, AWS S3, etc.)
Add catalogue to src/data/offers.ts:

typescript   {
     id: 'store-catalogue-1',
     storeId: 'store-id',
     titleAr: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬',
     titleEn: 'Catalogue Title',
     startDate: '2024-12-23',
     endDate: '2024-12-29',
     coverImage: 'url-to-cover',
     pdfUrl: 'https://storage.com/storename_2024-12-23_2024-12-29.pdf',
     pages: [/* page objects */]
   }

Add offers linked to catalogue
Test by navigating to catalogue in app


ğŸ”® Future Enhancements

ğŸ”” Push notifications for new catalogues
ğŸ” Search functionality across all offers
ğŸ“Š Price comparison between stores
ğŸ“± Barcode scanner for quick product lookup
ğŸ’³ Integration with payment/delivery services
ğŸ¤– AI-powered personalized recommendations
ğŸ“ˆ Analytics for popular offers
